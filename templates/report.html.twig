{% extends 'base.html.twig' %}

{% block title %}Rapporter{% endblock %}

{% block body %}
<h2>Rapporter</h2>
<ul>
    {% for kmom, description in reports %}
        <li><a href="#{{ kmom }}">{{ kmom }}</a></li>
    {% endfor %}
</ul>

<!-- Sections for each kmom, hidden initially -->
{% for kmom, description in reports %}
    <section id="{{ kmom }}" style="display: none;">
        <h3>{{ kmom }}</h3>
        <p>{{ description | nl2br }}</p>
    </section>
{% endfor %}

<script>
// JavaScript to show the section when a link is clicked
document.querySelectorAll('a[href^="#"]').forEach(link => {
    link.addEventListener('click', function(event) {
        // Hide all sections first
        document.querySelectorAll('section').forEach(section => {
            section.style.display = 'none';
        });

        // Show the selected section
        const targetSection = document.querySelector(this.getAttribute('href'));
        if (targetSection) {
            targetSection.style.display = 'block';
        }
    });
});
</script>
{% endblock %}
